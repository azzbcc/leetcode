// æœ‰ä¸€ä¸ªå¯†é’¥å­—ç¬¦ä¸² S ï¼ŒåªåŒ…å«å­—æ¯ï¼Œæ•°å­—ä»¥åŠ '-'ï¼ˆç ´æŠ˜å·ï¼‰ã€‚å…¶ä¸­ï¼Œ N ä¸ª '-' å°†å­—ç¬¦ä¸²åˆ†æˆäº† N+1 ç»„ã€‚
//
// ç»™ä½ ä¸€ä¸ªæ•°å­— Kï¼Œè¯·ä½ é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä½¿æ¯ä¸ªåˆ†ç»„æ°å¥½åŒ…å« K ä¸ªå­—ç¬¦ã€‚ç‰¹åˆ«åœ°ï¼Œç¬¬ä¸€ä¸ªåˆ†ç»„åŒ…å«çš„å­—ç¬¦ä¸ªæ•°å¿…é¡»å°äºŽç­‰äºŽ
// Kï¼Œä½†è‡³å°‘è¦åŒ…å« 1 ä¸ªå­—ç¬¦ã€‚ä¸¤ä¸ªåˆ†ç»„ä¹‹é—´éœ€è¦ç”¨ '-'ï¼ˆç ´æŠ˜å·ï¼‰éš”å¼€ï¼Œå¹¶ä¸”å°†æ‰€æœ‰çš„å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚
//
// ç»™å®šéžç©ºå­—ç¬¦ä¸² S å’Œæ•°å­— Kï¼ŒæŒ‰ç…§ä¸Šé¢æè¿°çš„è§„åˆ™è¿›è¡Œæ ¼å¼åŒ–ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
// è¾“å…¥ï¼šS = "5F3Z-2e-9-w", K = 4
// è¾“å‡ºï¼š"5F3Z-2E9W"
// è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ† 4 ä¸ªå­—ç¬¦ï¼›
//      æ³¨æ„ï¼Œä¸¤ä¸ªé¢å¤–çš„ç ´æŠ˜å·éœ€è¦åˆ æŽ‰ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
// è¾“å…¥ï¼šS = "2-5g-3-J", K = 2
// è¾“å‡ºï¼š"2-5G-3J"
// è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº† 3 ä¸ªéƒ¨åˆ†ï¼ŒæŒ‰ç…§å‰é¢çš„è§„åˆ™æè¿°ï¼Œç¬¬ä¸€éƒ¨åˆ†çš„å­—ç¬¦å¯ä»¥å°‘äºŽç»™å®šçš„æ•°é‡ï¼Œå…¶ä½™éƒ¨åˆ†çš†ä¸º 2 ä¸ªå­—ç¬¦ã€‚
//
//
//
//
// æç¤º:
//
//
// S çš„é•¿åº¦å¯èƒ½å¾ˆé•¿ï¼Œè¯·æŒ‰éœ€åˆ†é…å¤§å°ã€‚K ä¸ºæ­£æ•´æ•°ã€‚
// S åªåŒ…å«å­—æ¯æ•°å­—ï¼ˆa-zï¼ŒA-Zï¼Œ0-9ï¼‰ä»¥åŠç ´æŠ˜å·'-'
// S éžç©º
//
//
//
// Related Topics å­—ç¬¦ä¸² ðŸ‘ 124 ðŸ‘Ž 0

char *licenseKeyFormatting(char *s, int k) {
    int count = 0, len = 0;
    for (; s[len]; count += s[len++] != '-') {}

    int size = (count + k - 1) / k + count;
    if (!size) size = 1;
    char *ans = malloc(size * sizeof(char));

    for (int i = len - 1, j = size - 2; i >= 0; --i) {
        if (s[i] == '-') continue;
        ans[j--] = toupper(s[i]);
        if (j > 0 && (size - j) % (k + 1) == 1) ans[j--] = '-';
    }

    ans[size - 1] = '\0';
    return ans;
}
